/*! For license information please see duckdb-browser-coi.pthread.worker.8e76d6f5d37b58ad3bb9.js.LICENSE.txt */
"use strict";(()=>{var Xi=Object.create,un=Object.defineProperty,$i=Object.getOwnPropertyDescriptor,qi=Object.getOwnPropertyNames,Ki=Object.getPrototypeOf,Gi=Object.prototype.hasOwnProperty,hr=(t=function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')},typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):t),t,ge=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Yi=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let a of qi(t))!Gi.call(e,a)&&a!==r&&un(e,a,{get:()=>t[a],enumerable:!(n=$i(t,a))||n.enumerable});return e},ln=(e,t,r)=>(r=null!=e?Xi(Ki(e)):{},Yi(!t&&e&&e.__esModule?r:un(r,"default",{value:e,enumerable:!0}),e)),br=ge((()=>{})),pr=ge((()=>{})),hn=ge((()=>{})),bn=ge((()=>{})),pn=ge((()=>{})),gn=ge(((e,t)=>{var r=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(e=e||__filename),function(t={}){function r(){return C.buffer!=D.buffer&&L(),D}function n(){return C.buffer!=D.buffer&&L(),N}function a(){return C.buffer!=D.buffer&&L(),I}function o(){return C.buffer!=D.buffer&&L(),P}function i(){return C.buffer!=D.buffer&&L(),B}function s(){return C.buffer!=D.buffer&&L(),x}var l,u,c=t;c.ready=new Promise(((e,t)=>{l=e,u=t}));var f,d,h=Object.assign({},c),_="./this.program",p=(e,t)=>{throw t},b="object"==typeof window,g="function"==typeof importScripts,m="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,y=c.ENVIRONMENT_IS_PTHREAD||!1,w="";function v(e){return c.locateFile?c.locateFile(e,w):w+e}if(m){var H=pr(),A=hn();let e;w=g?A.dirname(w)+"/":__dirname+"/",f=(e,t)=>(e=ue(e)?new URL(e):A.normalize(e),H.readFileSync(e,t?void 0:"utf8")),d=e=>{var t=f(e,!0);return t.buffer||(t=new Uint8Array(t)),t},!c.thisProgram&&process.argv.length>1&&(_=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),p=(e,t)=>{throw process.exitCode=e,t},c.inspect=()=>"[Emscripten Module object]";try{e=br()}catch(e){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),e}global.Worker=e.Worker}else(b||g)&&(g?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),e&&(w=e),w=0!==w.indexOf("blob:")?w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):"",m||(f=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(d=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})));m&&typeof performance>"u"&&(global.performance=bn().performance);var E=console.log.bind(console),R=console.error.bind(console);m&&(E=(...e)=>H.writeSync(1,e.join(" ")+"\n"),R=(...e)=>H.writeSync(2,e.join(" ")+"\n"));var k,S=c.print||E,T=c.printErr||R;Object.assign(c,h),h=null,c.arguments&&c.arguments,c.thisProgram&&(_=c.thisProgram),c.quit&&(p=c.quit),c.wasmBinary&&(k=c.wasmBinary);var U=c.noExitRuntime||!0;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var C,M,F,D,N,I,O,P,B,x,W=!1;function X(e,t){e||ae(t)}function L(){var e=C.buffer;c.HEAP8=D=new Int8Array(e),c.HEAP16=I=new Int16Array(e),c.HEAPU8=N=new Uint8Array(e),c.HEAPU16=O=new Uint16Array(e),c.HEAP32=P=new Int32Array(e),c.HEAPU32=B=new Uint32Array(e),c.HEAPF32=new Float32Array(e),c.HEAPF64=x=new Float64Array(e)}var q=c.INITIAL_MEMORY||16777216;if(X(q>=65536,"INITIAL_MEMORY should be larger than STACK_SIZE, was "+q+"! (STACK_SIZE=65536)"),y)C=c.wasmMemory;else if(c.wasmMemory)C=c.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw T("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),m&&T("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");L(),q=C.buffer.byteLength;var K=[],j=[],Y=[],z=[],V=!1,G=0;function J(){return U||G>0}function Z(){V=!0,!y&&ke(j)}function $(e){K.unshift(e)}var Q=0,ee=null,te=null;function re(e){Q++,c.monitorRunDependencies&&c.monitorRunDependencies(Q)}function ne(e){if(Q--,c.monitorRunDependencies&&c.monitorRunDependencies(Q),0==Q&&(null!==ee&&(clearInterval(ee),ee=null),te)){var t=te;te=null,t()}}function ae(e){c.onAbort&&c.onAbort(e),T(e="Aborted("+e+")"),W=!0,F=1,e+=". Build with -sASSERTIONS for more info.",V&&ar();var t=new WebAssembly.RuntimeError(e);throw u(t),t}var oe,ie,se;function le(e){return e.startsWith("data:application/octet-stream;base64,")}function ue(e){return e.startsWith("file://")}function ce(e){if(e==oe&&k)return new Uint8Array(k);if(d)return d(e);throw"both async and sync fetching of the wasm failed"}function fe(e,t,r){return function(e){return k||!b&&!g||"function"!=typeof fetch?Promise.resolve().then((()=>ce(e))):fetch(e,{credentials:"same-origin"}).then((t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()})).catch((()=>ce(e)))}(e).then((e=>WebAssembly.instantiate(e,t))).then((e=>e)).then(r,(e=>{T("failed to asynchronously prepare wasm: ".concat(e)),ae(e)}))}function de(e){this.name="ExitStatus",this.message="Program terminated with exit(".concat(e,")"),this.status=e}le(oe="./duckdb-coi.wasm")||(oe=v(oe));var he=e=>{e.terminate(),e.onmessage=e=>{}},_e=e=>{var t=Re.pthreads[e];X(t),Re.returnWorkerToPool(t)},pe=(e,t)=>(n().fill(0,e,e+t),e),be=e=>{var t=Re.getNewWorker();if(!t)return 6;Re.runningWorkers.push(t),Re.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var r={cmd:"run",start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return m&&t.unref(),t.postMessage(r,e.transferList),0},ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,me=(e,t,r)=>{for(var n=(t>>>=0)+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&ge)return ge.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,a):e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var l=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|l:(7&i)<<18|s<<12|l<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o},ye=(e,t)=>(e>>>=0)?me(n(),e,t):"",we={varargs:void 0,get(){var e=o()[+we.varargs>>>2>>>0];return we.varargs+=4,e},getp:()=>we.get(),getStr:e=>ye(e)};function ve(e){if(y)return mt(0,1,e);F=e,J()||(Re.terminateAllThreads(),c.onExit&&c.onExit(e),W=!0),p(e,new de(e))}var He=(e,t)=>{if(F=e,y)throw Se(e),"unwind";ve(e)},Ae=He,Ee=e=>{if(e instanceof de||"unwind"==e)return F;p(1,e)},Re={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){y?Re.initWorker():Re.initMainThread()},initMainThread(){for(var e=4;e--;)Re.allocateUnusedWorker();$((()=>{re(),Re.loadWasmModuleToAllWorkers((()=>ne()))}))},initWorker(){U=!1},setExitStatus:e=>{F=e},terminateAllThreads__deps:["$terminateWorker"],terminateAllThreads:()=>{for(var e of Re.runningWorkers)he(e);for(var e of Re.unusedWorkers)he(e);Re.unusedWorkers=[],Re.runningWorkers=[],Re.pthreads=[]},returnWorkerToPool:e=>{var t=e.pthread_ptr;delete Re.pthreads[t],Re.unusedWorkers.push(e),Re.runningWorkers.splice(Re.runningWorkers.indexOf(e),1),e.pthread_ptr=0,er(t)},receiveObjectTransfer(e){},threadInitTLS(){Re.tlsInitFunctions.forEach((e=>e()))},loadWasmModuleToWorker:t=>new Promise((r=>{t.onmessage=e=>{var n=e.data,a=n.cmd;if(n.targetThread&&n.targetThread!=Vt()){var o=Re.pthreads[n.targetThread];o?o.postMessage(n,n.transferList):T('Internal error! Worker sent a message "'.concat(a,'" to target pthread ').concat(n.targetThread,", but that thread no longer exists!"))}else"checkMailbox"===a?bt():"spawnThread"===a?be(n):"cleanupThread"===a?_e(n.thread):"killThread"===a?(e=>{var t=Re.pthreads[e];delete Re.pthreads[e],he(t),er(e),Re.runningWorkers.splice(Re.runningWorkers.indexOf(t),1),t.pthread_ptr=0})(n.thread):"cancelThread"===a?(e=>{Re.pthreads[e].postMessage({cmd:"cancel"})})(n.thread):"loaded"===a?(t.loaded=!0,m&&!t.pthread_ptr&&t.unref(),r(t)):"alert"===a?alert("Thread ".concat(n.threadId,": ").concat(n.text)):"setimmediate"===n.target?t.postMessage(n):"callHandler"===a?c[n.handler](...n.args):a&&T("worker sent an unknown command ".concat(a))},t.onerror=e=>{throw T("".concat("worker sent an error!"," ").concat(e.filename,":").concat(e.lineno,": ").concat(e.message)),e},m&&(t.on("message",(e=>t.onmessage({data:e}))),t.on("error",(e=>t.onerror(e))));var n=[];for(var a of["onExit","onAbort","print","printErr"])c.hasOwnProperty(a)&&n.push(a);t.postMessage({cmd:"load",handlers:n,urlOrBlob:c.mainScriptUrlOrBlob||e,wasmMemory:C,wasmModule:M})})),loadWasmModuleToAllWorkers(e){if(y)return e();Promise.all(Re.unusedWorkers.map(Re.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker(){var e,t=v("duckdb_wasm.worker.js");e=new Worker(t),Re.unusedWorkers.push(e)},getNewWorker:()=>(0==Re.unusedWorkers.length&&(Re.allocateUnusedWorker(),Re.loadWasmModuleToWorker(Re.unusedWorkers[0])),Re.unusedWorkers.pop())};c.PThread=Re;var ke=e=>{for(;e.length>0;)e.shift()(c)};function Se(e){if(y)return mt(1,0,e);Ae(e)}c.establishStackSpace=()=>{var e=Vt(),t=i()[e+52>>>2>>>0],r=i()[e+56>>>2>>>0];or(t,t-r),sr(t)};var Te,Ue=[];c.invokeEntryPoint=(e,t)=>{var r,n=(e=>{var t=Ue[e];return t||(e>=Ue.length&&(Ue.length=e+1),Ue[e]=t=Te.get(e)),t})(e)(t);r=n,J()?Re.setExitStatus(r):tr(r)};var Ce=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+4294967296*t:NaN;function Me(e,t,r,n){return y?mt(2,1,e,t,r,n):Fe(e,t,r,n)}function Fe(e,t,r,n){if(e>>>=0,t>>>=0,r>>>=0,n>>>=0,typeof SharedArrayBuffer>"u")return T("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];if(y&&0===a.length)return Me(e,t,r,n);var o={startRoutine:r,pthread_ptr:e,arg:n,transferList:a};return y?(o.cmd="spawnThread",postMessage(o,a),0):be(o)}function De(e,t,r,n,a){if(y)return mt(3,1,e,t,r,n,a);r>>>=0,n>>>=0,a>>>=0;for(var i=0,s=(t>>>=0)?o()[t>>>2>>>0]:0,l=t?o()[t+4>>>2>>>0]:0,u=r?o()[r>>>2>>>0]:0,c=r?o()[r+4>>>2>>>0]:0,f=n?o()[n>>>2>>>0]:0,d=n?o()[n+4>>>2>>>0]:0,h=0,_=0,p=0,b=0,g=0,m=0,w=(t?o()[t>>>2>>>0]:0)|(r?o()[r>>>2>>>0]:0)|(n?o()[n>>>2>>>0]:0),v=(t?o()[t+4>>>2>>>0]:0)|(r?o()[r+4>>>2>>>0]:0)|(n?o()[n+4>>>2>>>0]:0),H=function(e,t,r,n){return e<32?t&n:r&n},A=0;A<e;A++){var E=1<<A%32;if(H(A,w,v,E)){var R=we.getStreamFromFD(A),k=we.DEFAULT_POLLMASK;if(R.stream_ops.poll){var S=-1;a&&(S=1e3*((t?o()[a>>>2>>>0]:0)+(t?o()[a+8>>>2>>>0]:0)/1e6)),k=R.stream_ops.poll(R,S)}1&k&&H(A,s,l,E)&&(A<32?h|=E:_|=E,i++),4&k&&H(A,u,c,E)&&(A<32?p|=E:b|=E,i++),2&k&&H(A,f,d,E)&&(A<32?g|=E:m|=E,i++)}}return t&&(o()[t>>>2>>>0]=h,o()[t+4>>>2>>>0]=_),r&&(o()[r>>>2>>>0]=p,o()[r+4>>>2>>>0]=b),n&&(o()[n>>>2>>>0]=g,o()[n+4>>>2>>>0]=m),i}function Ne(){ae("missing function: $SOCKFS")}function Ie(){ae("missing function: $FS")}Ne.stub=!0,Ie.stub=!0;var Oe=e=>{var t=Ne.getSocket(e);if(!t)throw new Ie.ErrnoError(8);return t},Pe=e=>(255&e)+"."+(e>>8&255)+"."+(e>>16&255)+"."+(e>>24&255),Be=e=>{var t="",r=0,n=0,a=0,o=0,i=0,s=0,l=[65535&e[0],e[0]>>16,65535&e[1],e[1]>>16,65535&e[2],e[2]>>16,65535&e[3],e[3]>>16],u=!0,c="";for(s=0;s<5;s++)if(0!==l[s]){u=!1;break}if(u){if(c=Pe(l[6]|l[7]<<16),-1===l[5])return(t="::ffff:")+c;if(0===l[5])return"0.0.0.0"===c&&(c=""),"0.0.0.1"===c&&(c="1"),(t="::")+c}for(r=0;r<8;r++)0===l[r]&&(r-a>1&&(i=0),a=r,i++),i>n&&(o=r-(n=i)+1);for(r=0;r<8;r++)n>1&&0===l[r]&&r>=o&&r<o+n?r===o&&(t+=":",0===o&&(t+=":")):(t+=Number($t(65535&l[r])).toString(16),t+=r<7?":":"");return t},xe=(e,t)=>{var r,n=a()[e>>>1>>>0],i=$t((C.buffer!=D.buffer&&L(),O)[e+2>>>1>>>0]);switch(n){case 2:if(16!==t)return{errno:28};r=o()[e+4>>>2>>>0],r=Pe(r);break;case 10:if(28!==t)return{errno:28};r=[o()[e+8>>>2>>>0],o()[e+12>>>2>>>0],o()[e+16>>>2>>>0],o()[e+20>>>2>>>0]],r=Be(r);break;default:return{errno:5}}return{family:n,addr:r,port:i}},We=e=>{for(var t=e.split("."),r=0;r<4;r++){var n=Number(t[r]);if(isNaN(n))return null;t[r]=n}return(t[0]|t[1]<<8|t[2]<<16|t[3]<<24)>>>0},Xe=e=>parseInt(e),Le=e=>{var t,r,n,a,o=[];if(!/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i.test(e))return null;if("::"===e)return[0,0,0,0,0,0,0,0];for((e=e.startsWith("::")?e.replace("::","Z:"):e.replace("::",":Z:")).indexOf(".")>0?((t=(e=e.replace(new RegExp("[.]","g"),":")).split(":"))[t.length-4]=Xe(t[t.length-4])+256*Xe(t[t.length-3]),t[t.length-3]=Xe(t[t.length-2])+256*Xe(t[t.length-1]),t=t.slice(0,t.length-2)):t=e.split(":"),n=0,a=0,r=0;r<t.length;r++)if("string"==typeof t[r])if("Z"===t[r]){for(a=0;a<8-t.length+1;a++)o[r+a]=0;n=a-1}else o[r+n]=Zt(parseInt(t[r],16));else o[r+n]=t[r];return[o[1]<<16|o[0],o[3]<<16|o[2],o[5]<<16|o[4],o[7]<<16|o[6]]},qe={address_map:{id:1,addrs:{},names:{}},lookup_name(e){var t,r=We(e);if(null!==r||null!==(r=Le(e)))return e;if(qe.address_map.addrs[e])t=qe.address_map.addrs[e];else{var n=qe.address_map.id++;X(n<65535,"exceeded max address mappings of 65535"),t="172.29."+(255&n)+"."+(65280&n),qe.address_map.names[t]=e,qe.address_map.addrs[e]=t}return t},lookup_addr:e=>qe.address_map.names[e]?qe.address_map.names[e]:null},Ke=(e,t,r)=>{if(r&&0===e)return null;var n=xe(e,t);if(n.errno)throw new Ie.ErrnoError(n.errno);return n.addr=qe.lookup_addr(n.addr)||n.addr,n};function je(e,t,r,n,a,o){if(y)return mt(4,1,e,t,r,n,a,o);t>>>=0,r>>>=0;var i=Oe(e),s=Ke(t,r);return i.sock_ops.bind(i,s.addr,s.port),0}function Ye(e,t,r,n,a,o){if(y)return mt(5,1,e,t,r,n,a,o);t>>>=0,r>>>=0;var i=Oe(e),s=Ke(t,r);return i.sock_ops.connect(i,s.addr,s.port),0}function ze(e,t,r,n){if(y)return mt(6,1,e,t,r,n);t>>>=0}function Ve(e,t,r){return y?mt(7,1,e,t,r):(r>>>=0,we.varargs=r,0)}function Ge(e,t){if(y)return mt(8,1,e,t);t>>>=0}function Je(e,t,r){if(y)return mt(9,1,e,t,r);Ce(t,r)}var Ze=(e,t,r,n)=>{if(!(n>0))return 0;for(var a=r>>>=0,o=r+n-1,i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s>=55296&&s<=57343&&(s=65536+((1023&s)<<10)|1023&e.charCodeAt(++i)),s<=127){if(r>=o)break;t[r++>>>0]=s}else if(s<=2047){if(r+1>=o)break;t[r++>>>0]=192|s>>6,t[r++>>>0]=128|63&s}else if(s<=65535){if(r+2>=o)break;t[r++>>>0]=224|s>>12,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}else{if(r+3>=o)break;t[r++>>>0]=240|s>>18,t[r++>>>0]=128|s>>12&63,t[r++>>>0]=128|s>>6&63,t[r++>>>0]=128|63&s}}return t[r>>>0]=0,r-a},$e=(e,t,r)=>Ze(e,n(),t,r);function Qe(e,t,r){if(y)return mt(10,1,e,t,r);t>>>=0,r>>>=0}var et=(e,t,r,n,i)=>{switch(t){case 2:r=We(r),pe(e,16),i&&(o()[i>>>2>>>0]=16),a()[e>>>1>>>0]=t,o()[e+4>>>2>>>0]=r,a()[e+2>>>1>>>0]=Zt(n);break;case 10:r=Le(r),pe(e,28),i&&(o()[i>>>2>>>0]=28),o()[e>>>2>>>0]=t,o()[e+8>>>2>>>0]=r[0],o()[e+12>>>2>>>0]=r[1],o()[e+16>>>2>>>0]=r[2],o()[e+20>>>2>>>0]=r[3],a()[e+2>>>1>>>0]=Zt(n);break;default:return 5}return 0};function tt(e,t,r,n,a,o){if(y)return mt(11,1,e,t,r,n,a,o);t>>>=0,r>>>=0;var i=Oe(e);return i.daddr?(et(t,i.family,qe.lookup_name(i.daddr),i.dport,r),0):-53}function rt(e,t,r,n,a,i){if(y)return mt(12,1,e,t,r,n,a,i);n>>>=0,a>>>=0;var s=Oe(e);return 1===t&&4===r?(o()[n>>>2>>>0]=s.error,o()[a>>>2>>>0]=4,s.error=null,0):-50}function nt(e,t,r){return y?mt(13,1,e,t,r):(r>>>=0,we.varargs=r,0)}function at(e,t){if(y)return mt(14,1,e,t);e>>>=0,t>>>=0}function ot(e,t,r){if(y)return mt(15,1,e,t,r);t>>>=0}function it(e,t,r,n){if(y)return mt(16,1,e,t,r,n);t>>>=0,r>>>=0}function st(e,t,r,n){if(y)return mt(17,1,e,t,r,n);t>>>=0,n>>>=0,we.varargs=n}function lt(e,t,r,a,o,i){if(y)return mt(18,1,e,t,r,a,o,i);t>>>=0,r>>>=0,o>>>=0,i>>>=0;var s=Oe(e),l=s.sock_ops.recvmsg(s,r);return l?(o&&et(o,s.family,qe.lookup_name(l.addr),l.port,i),n().set(l.buffer,t>>>0),l.buffer.byteLength):0}function ut(e,t,r,n){if(y)return mt(19,1,e,t,r,n);t>>>=0,n>>>=0}function ct(e){if(y)return mt(20,1,e);e>>>=0}function ft(e,t,r,n,a,o){if(y)return mt(21,1,e,t,r,n,a,o);t>>>=0,r>>>=0,a>>>=0,o>>>=0}function dt(e,t,r){if(y)return mt(22,1,e,t,r)}function ht(e,t){if(y)return mt(23,1,e,t);e>>>=0,t>>>=0}function _t(e,t,r){if(y)return mt(24,1,e,t,r);t>>>=0}function pt(e){if(e>>>=0,"function"==typeof Atomics.waitAsync){Atomics.waitAsync(o(),e>>>2,e).value.then(bt);var t=e+128;Atomics.store(o(),t>>>2,1)}}c.__emscripten_thread_mailbox_await=pt;var bt=()=>{var e=Vt();e&&(pt(e),(e=>{if(!W)try{e(),(()=>{if(!J())try{y?tr(F):Ae(F)}catch(e){Ee(e)}})()}catch(e){Ee(e)}})((()=>rr())))};c.checkMailbox=bt;var gt,mt=function(e,t){var r=arguments.length-2,n=arguments;return(e=>{var t=ir(),r=e();return sr(t),r})((()=>{for(var a=r,o=lr(8*a),i=o>>>3,l=0;l<r;l++){var u=n[2+l];s()[i+l>>>0]=u}return Qt(e,a,o,t)}))},yt=[];gt=()=>performance.timeOrigin+performance.now();var wt=e=>{var t=(e-C.buffer.byteLength+65535)/65536;try{return C.grow(t),L(),1}catch(e){}},vt={},Ht=()=>{if(!Ht.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(var t in vt)void 0===vt[t]?delete e[t]:e[t]=vt[t];var r=[];for(var t in e)r.push("".concat(t,"=").concat(e[t]));Ht.strings=r}return Ht.strings},At=function(e,t){if(y)return mt(25,1,e,t);e>>>=0,t>>>=0;var n=0;return Ht().forEach(((a,o)=>{var s=t+n;i()[e+4*o>>>2>>>0]=s,((e,t)=>{for(var n=0;n<e.length;++n)r()[t++>>>0>>>0]=e.charCodeAt(n);r()[t>>>0>>>0]=0})(a,s),n+=a.length+1})),0},Et=function(e,t){if(y)return mt(26,1,e,t);e>>>=0,t>>>=0;var r=Ht();i()[e>>>2>>>0]=r.length;var n=0;return r.forEach((e=>n+=e.length+1)),i()[t>>>2>>>0]=n,0};function Rt(e){return y?mt(27,1,e):52}function kt(e,t){if(y)return mt(28,1,e,t);t>>>=0;var n=0;return 0==e?n=2:(1==e||2==e)&&(n=64),r()[t>>>0>>>0]=2,a()[t+2>>>1>>>0]=1,se=[n>>>0,(ie=n,+Math.abs(ie)>=1?ie>0?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],o()[t+8>>>2>>>0]=se[0],o()[t+12>>>2>>>0]=se[1],se=[0,(ie=0,+Math.abs(ie)>=1?ie>0?+Math.floor(ie/4294967296)>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],o()[t+16>>>2>>>0]=se[0],o()[t+20>>>2>>>0]=se[1],0}function St(e,t,r,n,a,o){return y?mt(29,1,e,t,r,n,a,o):(t>>>=0,r>>>=0,Ce(n,a),o>>>=0,52)}function Tt(e,t,r,n,a,o){return y?mt(30,1,e,t,r,n,a,o):(t>>>=0,r>>>=0,Ce(n,a),o>>>=0,52)}function Ut(e,t,r,n){return y?mt(31,1,e,t,r,n):(t>>>=0,r>>>=0,n>>>=0,52)}function Ct(e,t,r,n,a){return y?mt(32,1,e,t,r,n,a):(Ce(t,r),a>>>=0,70)}function Mt(e){return y?mt(33,1,e):52}var Ft=[null,[],[]],Dt=(e,t)=>{var r=Ft[e];0===t||10===t?((1===e?S:T)(me(r,0)),r.length=0):r.push(t)};function Nt(e,t,r,a){if(y)return mt(34,1,e,t,r,a);t>>>=0,r>>>=0,a>>>=0;for(var o=0,s=0;s<r;s++){var l=i()[t>>>2>>>0],u=i()[t+4>>>2>>>0];t+=8;for(var c=0;c<u;c++)Dt(e,n()[l+c>>>0]);o+=u}return i()[a>>>2>>>0]=o,0}function It(e,t,r,n){if(y)return mt(35,1,e,t,r,n);e>>>=0,t>>>=0,n>>>=0;var a,s=0,l=0,u=0,c=0,f=0,d=0;function h(e,t,r,n,a,s){var l,u,c;return u=10===e?28:16,a=10===e?Be(a):Pe(a),l=nr(u),X(!et(l,e,a,s)),c=nr(32),o()[c+4>>>2>>>0]=e,o()[c+8>>>2>>>0]=t,o()[c+12>>>2>>>0]=r,i()[c+24>>>2>>>0]=n,i()[c+20>>>2>>>0]=l,o()[c+16>>>2>>>0]=10===e?28:16,o()[c+28>>>2>>>0]=0,c}if((r>>>=0)&&(u=o()[r>>>2>>>0],c=o()[r+4>>>2>>>0],f=o()[r+8>>>2>>>0],d=o()[r+12>>>2>>>0]),f&&!d&&(d=2===f?17:6),!f&&d&&(f=17===d?2:1),0===d&&(d=6),0===f&&(f=1),!e&&!t)return-2;if(-1088&u||0!==r&&2&o()[r>>>2>>>0]&&!e)return-1;if(32&u)return-2;if(0!==f&&1!==f&&2!==f)return-7;if(0!==c&&2!==c&&10!==c)return-6;if(t&&(t=ye(t),l=parseInt(t,10),isNaN(l)))return 1024&u?-2:-8;if(!e)return 0===c&&(c=2),1&u||(s=2===c?Jt(2130706433):[0,0,0,1]),a=h(c,f,d,null,s,l),i()[n>>>2>>>0]=a,0;if(e=ye(e),null!==(s=We(e)))if(0===c||2===c)c=2;else{if(!(10===c&&8&u))return-2;s=[0,0,Jt(65535),s],c=10}else if(null!==(s=Le(e))){if(0!==c&&10!==c)return-2;c=10}return null!=s?(a=h(c,f,d,e,s,l),i()[n>>>2>>>0]=a,0):4&u?-2:(e=qe.lookup_name(e),s=We(e),0===c?c=2:10===c&&(s=[0,0,Jt(65535),s]),a=h(c,f,d,null,s,l),i()[n>>>2>>>0]=a,0)}var Ot=e=>(Ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>(e.set(crypto.getRandomValues(new Uint8Array(e.byteLength))),e);if(m)try{var e=hr("crypto");if(e.randomFillSync)return t=>e.randomFillSync(t);var t=e.randomBytes;return e=>(e.set(t(e.byteLength)),e)}catch(e){}ae("initRandomDevice")})())(e),Pt=e=>e%4==0&&(e%100!=0||e%400==0),Bt=[31,29,31,30,31,30,31,31,30,31,30,31],xt=[31,28,31,30,31,30,31,31,30,31,30,31],Wt=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t},Xt=(e,t)=>{r().set(e,t>>>0)};function Lt(e,t,r,n){e>>>=0,t>>>=0,r>>>=0,n>>>=0;var a=i()[n+40>>>2>>>0],s={tm_sec:o()[n>>>2>>>0],tm_min:o()[n+4>>>2>>>0],tm_hour:o()[n+8>>>2>>>0],tm_mday:o()[n+12>>>2>>>0],tm_mon:o()[n+16>>>2>>>0],tm_year:o()[n+20>>>2>>>0],tm_wday:o()[n+24>>>2>>>0],tm_yday:o()[n+28>>>2>>>0],tm_isdst:o()[n+32>>>2>>>0],tm_gmtoff:o()[n+36>>>2>>>0],tm_zone:a?ye(a):""},l=ye(r),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var c in u)l=l.replace(new RegExp(c,"g"),u[c]);var f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=["January","February","March","April","May","June","July","August","September","October","November","December"];function h(e,t,r){for(var n="number"==typeof e?e.toString():e||"";n.length<t;)n=r[0]+n;return n}function _(e,t){return h(e,t,"0")}function p(e,t){function r(e){return e<0?-1:e>0?1:0}var n;return 0===(n=r(e.getFullYear()-t.getFullYear()))&&0===(n=r(e.getMonth()-t.getMonth()))&&(n=r(e.getDate()-t.getDate())),n}function b(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function g(e){var t=((e,t)=>{for(var r=new Date(e.getTime());t>0;){var n=Pt(r.getFullYear()),a=r.getMonth(),o=(n?Bt:xt)[a];if(!(t>o-r.getDate()))return r.setDate(r.getDate()+t),r;t-=o-r.getDate()+1,r.setDate(1),a<11?r.setMonth(a+1):(r.setMonth(0),r.setFullYear(r.getFullYear()+1))}return r})(new Date(e.tm_year+1900,0,1),e.tm_yday),r=new Date(t.getFullYear(),0,4),n=new Date(t.getFullYear()+1,0,4),a=b(r),o=b(n);return p(a,t)<=0?p(o,t)<=0?t.getFullYear()+1:t.getFullYear():t.getFullYear()-1}var m={"%a":e=>f[e.tm_wday].substring(0,3),"%A":e=>f[e.tm_wday],"%b":e=>d[e.tm_mon].substring(0,3),"%B":e=>d[e.tm_mon],"%C":e=>_((e.tm_year+1900)/100|0,2),"%d":e=>_(e.tm_mday,2),"%e":e=>h(e.tm_mday,2," "),"%g":e=>g(e).toString().substring(2),"%G":e=>g(e),"%H":e=>_(e.tm_hour,2),"%I":e=>{var t=e.tm_hour;return 0==t?t=12:t>12&&(t-=12),_(t,2)},"%j":e=>_(e.tm_mday+((e,t)=>{for(var r=0,n=0;n<=t;r+=e[n++]);return r})(Pt(e.tm_year+1900)?Bt:xt,e.tm_mon-1),3),"%m":e=>_(e.tm_mon+1,2),"%M":e=>_(e.tm_min,2),"%n":()=>"\n","%p":e=>e.tm_hour>=0&&e.tm_hour<12?"AM":"PM","%S":e=>_(e.tm_sec,2),"%t":()=>"\t","%u":e=>e.tm_wday||7,"%U":e=>{var t=e.tm_yday+7-e.tm_wday;return _(Math.floor(t/7),2)},"%V":e=>{var t=Math.floor((e.tm_yday+7-(e.tm_wday+6)%7)/7);if((e.tm_wday+371-e.tm_yday-2)%7<=2&&t++,t){if(53==t){var r=(e.tm_wday+371-e.tm_yday)%7;4!=r&&(3!=r||!Pt(e.tm_year))&&(t=1)}}else{t=52;var n=(e.tm_wday+7-e.tm_yday-1)%7;(4==n||5==n&&Pt(e.tm_year%400-1))&&t++}return _(t,2)},"%w":e=>e.tm_wday,"%W":e=>{var t=e.tm_yday+7-(e.tm_wday+6)%7;return _(Math.floor(t/7),2)},"%y":e=>(e.tm_year+1900).toString().substring(2),"%Y":e=>e.tm_year+1900,"%z":e=>{var t=e.tm_gmtoff;return(t>=0?"+":"-")+("0000"+(t=(t=Math.abs(t)/60)/60*100+t%60)).slice(-4)},"%Z":e=>e.tm_zone,"%%":()=>"%"};for(var c in l=l.replace(/%%/g,"\0\0"),m)l.includes(c)&&(l=l.replace(new RegExp(c,"g"),m[c](s)));var y=function(e,t,r){var n=Wt(e)+1,a=new Array(n);Ze(e,a,0,a.length);return a}(l=l.replace(/\0\0/g,"%"));return y.length>t?0:(Xt(y,e),y.length-1)}Re.init();var qt,Kt=[ve,Se,Me,De,je,Ye,ze,Ve,Ge,Je,Qe,tt,rt,nt,at,ot,it,st,lt,ut,ct,ft,dt,ht,_t,At,Et,Rt,kt,St,Tt,Ut,Ct,Mt,Nt,It],jt={E:function(e){Gt(e>>>=0,!g,1,!b,65536,!1),Re.threadInitTLS()},s:function(e){e>>>=0,y?postMessage({cmd:"cleanupThread",thread:e}):_e(e)},ga:Fe,$:De,ea:je,ca:Ye,X:ze,b:Ve,W:Ge,x:Je,R:Qe,Z:tt,_:rt,q:nt,T:at,S:ot,U:it,r:st,aa:lt,P:ut,k:ct,ba:ft,n:dt,V:ht,l:_t,oa:()=>!0,da:function(e,t,r){if((e>>>=0)==(t>>>=0))setTimeout((()=>bt()));else if(y)postMessage({targetThread:e,cmd:"checkMailbox"});else{var n=Re.pthreads[e];if(!n)return;n.postMessage({cmd:"checkMailbox"})}},M:function(e,t,r,n){t>>>=0,n>>>=0,yt.length=r;for(var a=n>>>3,o=0;o<r;o++)yt[o]=s()[a+o>>>0];var i=Kt[e];Re.currentProxiedOperationCallerThread=t;var l=i.apply(null,yt);return Re.currentProxiedOperationCallerThread=0,l},v:pt,u:function(e){e>>>=0,m&&Re.pthreads[e].ref()},e:()=>{ae("")},H:function(e,t){return globalThis.DUCKDB_RUNTIME.createDirectory(c,e,t)},I:function(e,t){return globalThis.DUCKDB_RUNTIME.checkDirectory(c,e,t)},F:function(e,t){return globalThis.DUCKDB_RUNTIME.listDirectoryEntries(c,e,t)},G:function(e,t){return globalThis.DUCKDB_RUNTIME.removeDirectory(c,e,t)},j:function(e){return globalThis.DUCKDB_RUNTIME.closeFile(c,e)},C:function(e,t){return globalThis.DUCKDB_RUNTIME.checkFile(c,e,t)},w:function(e){return globalThis.DUCKDB_RUNTIME.getLastFileModificationTime(c,e)},D:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.moveFile(c,e,t,r,n)},K:function(e,t){return globalThis.DUCKDB_RUNTIME.openFile(c,e,t)},f:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.readFile(c,e,t,r,n)},J:function(e,t){return globalThis.DUCKDB_RUNTIME.truncateFile(c,e,t)},g:function(e,t,r,n){return globalThis.DUCKDB_RUNTIME.writeFile(c,e,t,r,n)},L:function(e){return globalThis.DUCKDB_RUNTIME.getDefaultDataProtocol(e)},B:function(e,t){return globalThis.DUCKDB_RUNTIME.glob(c,e,t)},i:function(e){return globalThis.DUCKDB_RUNTIME.testPlatformFeature(c,e)},N:function(e,t,r,n,a,o){return globalThis.DUCKDB_RUNTIME.callScalarUDF(c,e,t,r,n,a,o)},m:()=>{},pa:()=>Date.now(),t:()=>{throw G+=1,"unwind"},ha:function(){return 4294901760},c:gt,ia:()=>m?pn().cpus().length:navigator.hardwareConcurrency,na:function(e){e>>>=0;var t=n().length;if(e<=t)return!1;var r,a=4294901760;if(e>a)return!1;for(var o=1;o<=4;o*=2){var i=t*(1+.2/o);i=Math.min(i,e+100663296);var s=Math.min(a,(r=Math.max(e,i))+(65536-r%65536)%65536);if(wt(s))return!0}return!1},ka:At,la:Et,fa:Ae,d:Rt,ma:kt,z:St,y:Tt,p:Ut,A:Ct,Q:Mt,h:Nt,o:It,O:function(e,t){return e>>>=0,t>>>=0,Ot(n().subarray(e>>>0,e+t>>>0)),0},Y:function(e,t,r,n,a,o,i){r>>>=0,a>>>=0;var s=xe(e>>>=0,t);if(s.errno)return-6;var l=s.port,u=s.addr,c=!1;if(r&&n){var f;if(1&i||!(f=qe.lookup_addr(u))){if(8&i)return-2}else u=f;$e(u,r,n)+1>=n&&(c=!0)}return a&&o&&$e(l=""+l,a,o)+1>=o&&(c=!0),c?-12:0},a:C||c.wasmMemory,ja:function(e,t,r,n,a){return Lt(e>>>=0,t>>>=0,r>>>=0,n>>>=0)}},Yt=function(){var e={a:jt};function t(e,t){return Yt=function(e){var t=e=>()=>e()>>>0,r=e=>t=>e(t)>>>0;return(e=Object.assign({},e)).eb=t(e.eb),e.__errno_location=t(e.__errno_location),e.ob=r(e.ob),e.sb=t(e.sb),e.ub=r(e.ub),e}(Yt=e.exports),(e=>{Re.tlsInitFunctions.push(e)})(Yt.db),Te=Yt.sa,function(e){j.unshift(e)}(Yt.qa),M=t,ne(),Yt}if(re(),c.instantiateWasm)try{return c.instantiateWasm(e,t)}catch(e){T("Module.instantiateWasm callback failed with error: ".concat(e)),u(e)}return function(e,t,r,n){return e||"function"!=typeof WebAssembly.instantiateStreaming||le(t)||m||"function"!=typeof fetch?fe(t,r,n):fetch(t,{credentials:"same-origin"}).then((e=>WebAssembly.instantiateStreaming(e,r).then(n,(function(e){return T("wasm streaming compile failed: ".concat(e)),T("falling back to ArrayBuffer instantiation"),fe(t,r,n)}))))}(k,oe,e,(function(e){t(e.instance,e.module)})).catch(u),{}}(),zt=c._main=(e,t)=>(zt=c._main=Yt.ra)(e,t),Vt=(c._duckdb_web_fs_glob_add_path=e=>(c._duckdb_web_fs_glob_add_path=Yt.ta)(e),c._duckdb_web_clear_response=()=>(c._duckdb_web_clear_response=Yt.ua)(),c._duckdb_web_fail_with=e=>(c._duckdb_web_fail_with=Yt.va)(e),c._duckdb_web_reset=e=>(c._duckdb_web_reset=Yt.wa)(e),c._duckdb_web_connect=()=>(c._duckdb_web_connect=Yt.xa)(),c._duckdb_web_disconnect=e=>(c._duckdb_web_disconnect=Yt.ya)(e),c._duckdb_web_flush_files=()=>(c._duckdb_web_flush_files=Yt.za)(),c._duckdb_web_flush_file=e=>(c._duckdb_web_flush_file=Yt.Aa)(e),c._duckdb_web_open=(e,t)=>(c._duckdb_web_open=Yt.Ba)(e,t),c._duckdb_web_get_global_file_info=(e,t)=>(c._duckdb_web_get_global_file_info=Yt.Ca)(e,t),c._duckdb_web_collect_file_stats=(e,t,r)=>(c._duckdb_web_collect_file_stats=Yt.Da)(e,t,r),c._duckdb_web_export_file_stats=(e,t)=>(c._duckdb_web_export_file_stats=Yt.Ea)(e,t),c._duckdb_web_fs_drop_file=(e,t)=>(c._duckdb_web_fs_drop_file=Yt.Fa)(e,t),c._duckdb_web_fs_drop_files=e=>(c._duckdb_web_fs_drop_files=Yt.Ga)(e),c._duckdb_web_fs_glob_file_infos=(e,t)=>(c._duckdb_web_fs_glob_file_infos=Yt.Ha)(e,t),c._duckdb_web_fs_get_file_info_by_id=(e,t,r)=>(c._duckdb_web_fs_get_file_info_by_id=Yt.Ia)(e,t,r),c._duckdb_web_fs_get_file_info_by_name=(e,t,r)=>(c._duckdb_web_fs_get_file_info_by_name=Yt.Ja)(e,t,r),c._duckdb_web_fs_register_file_url=(e,t,r,n,a)=>(c._duckdb_web_fs_register_file_url=Yt.Ka)(e,t,r,n,a),c._duckdb_web_fs_register_file_buffer=(e,t,r,n)=>(c._duckdb_web_fs_register_file_buffer=Yt.La)(e,t,r,n),c._duckdb_web_copy_file_to_buffer=(e,t)=>(c._duckdb_web_copy_file_to_buffer=Yt.Ma)(e,t),c._duckdb_web_copy_file_to_path=(e,t,r)=>(c._duckdb_web_copy_file_to_path=Yt.Na)(e,t,r),c._duckdb_web_get_version=e=>(c._duckdb_web_get_version=Yt.Oa)(e),c._duckdb_web_get_feature_flags=()=>(c._duckdb_web_get_feature_flags=Yt.Pa)(),c._duckdb_web_tokenize=(e,t)=>(c._duckdb_web_tokenize=Yt.Qa)(e,t),c._duckdb_web_udf_scalar_create=(e,t,r)=>(c._duckdb_web_udf_scalar_create=Yt.Ra)(e,t,r),c._duckdb_web_prepared_create=(e,t,r)=>(c._duckdb_web_prepared_create=Yt.Sa)(e,t,r),c._duckdb_web_prepared_close=(e,t,r)=>(c._duckdb_web_prepared_close=Yt.Ta)(e,t,r),c._duckdb_web_prepared_run=(e,t,r,n)=>(c._duckdb_web_prepared_run=Yt.Ua)(e,t,r,n),c._duckdb_web_prepared_send=(e,t,r,n)=>(c._duckdb_web_prepared_send=Yt.Va)(e,t,r,n),c._duckdb_web_query_run=(e,t,r)=>(c._duckdb_web_query_run=Yt.Wa)(e,t,r),c._duckdb_web_pending_query_start=(e,t,r)=>(c._duckdb_web_pending_query_start=Yt.Xa)(e,t,r),c._duckdb_web_pending_query_poll=(e,t,r)=>(c._duckdb_web_pending_query_poll=Yt.Ya)(e,t,r),c._duckdb_web_pending_query_cancel=(e,t)=>(c._duckdb_web_pending_query_cancel=Yt.Za)(e,t),c._duckdb_web_query_fetch_results=(e,t)=>(c._duckdb_web_query_fetch_results=Yt._a)(e,t),c._duckdb_web_get_tablenames=(e,t,r)=>(c._duckdb_web_get_tablenames=Yt.$a)(e,t,r),c._duckdb_web_insert_arrow_from_ipc_stream=(e,t,r,n,a)=>(c._duckdb_web_insert_arrow_from_ipc_stream=Yt.ab)(e,t,r,n,a),c._duckdb_web_insert_csv_from_path=(e,t,r,n)=>(c._duckdb_web_insert_csv_from_path=Yt.bb)(e,t,r,n),c._duckdb_web_insert_json_from_path=(e,t,r,n)=>(c._duckdb_web_insert_json_from_path=Yt.cb)(e,t,r,n),c.__emscripten_tls_init=()=>(c.__emscripten_tls_init=Yt.db)(),c._pthread_self=()=>(Vt=c._pthread_self=Yt.eb)()),Gt=c.__emscripten_thread_init=(e,t,r,n,a,o)=>(Gt=c.__emscripten_thread_init=Yt.fb)(e,t,r,n,a,o),Jt=(c.__emscripten_thread_crashed=()=>(c.__emscripten_thread_crashed=Yt.gb)(),e=>(Jt=Yt.hb)(e)),Zt=e=>(Zt=Yt.ib)(e),$t=e=>($t=Yt.jb)(e),Qt=(e,t,r,n)=>(Qt=Yt.kb)(e,t,r,n),er=e=>(er=Yt.lb)(e),tr=c.__emscripten_thread_exit=e=>(tr=c.__emscripten_thread_exit=Yt.mb)(e),rr=c.__emscripten_check_mailbox=()=>(rr=c.__emscripten_check_mailbox=Yt.nb)(),nr=c._malloc=e=>(nr=c._malloc=Yt.ob)(e),ar=(c._free=e=>(c._free=Yt.pb)(e),()=>(ar=Yt.qb)()),or=(e,t)=>(or=Yt.rb)(e,t),ir=()=>(ir=Yt.sb)(),sr=e=>(sr=Yt.tb)(e),lr=e=>(lr=Yt.ub)(e);function ur(){if(!(Q>0)){if(y)return l(c),Z(),void startWorker(c);(function(){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)$(c.preRun.shift());ke(K)})(),Q>0||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}function e(){qt||(qt=!0,c.calledRun=!0,!W&&(Z(),y||ke(Y),l(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),cr&&function(){var e=zt;try{var t=e(0,0);return He(t),t}catch(e){return Ee(e)}}(),function(){if(!y){if(c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;)e=c.postRun.shift(),z.unshift(e);ke(z)}var e}()))}}if(c.keepRuntimeAlive=J,c.wasmMemory=C,c.stackAlloc=lr,c.stackSave=ir,c.stackRestore=sr,c.ccall=(e,t,r,n,a)=>{var o={string:e=>{var t=0;return null!=e&&0!==e&&(t=(e=>{var t=Wt(e)+1,r=lr(t);return $e(e,r,t),r})(e)),t},array:e=>{var t=lr(e.length);return Xt(e,t),t}},i=(e=>c["_"+e])(e),s=[],l=0;if(n)for(var u=0;u<n.length;u++){var f=o[r[u]];f?(0===l&&(l=ir()),s[u]=f(n[u])):s[u]=n[u]}var d,h=i.apply(null,s);return d=h,0!==l&&sr(l),h=function(e){return"string"===t?ye(e):"boolean"===t?!!e:e}(d),h},c.ExitStatus=de,c.PThread=Re,te=function e(){qt||ur(),qt||(te=e)},c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);c.preInit.length>0;)c.preInit.pop()();var cr=!0;return c.noInitialRun&&(cr=!1),ur(),t.ready}})();"object"==typeof e&&"object"==typeof t?t.exports=r:"function"==typeof define&&define.amd&&define([],(()=>r))})),wn=ge(((exports,module)=>{(function(){var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=global:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,AMD="function"==typeof define&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createOutputMethod(n,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,n){return new HmacSha256(r,t,!0).update(n)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];t[n]=createHmacOutputMethod(n,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var n,a=typeof e;if("string"===a){var o,i=[],s=e.length,l=0;for(n=0;n<s;++n)(o=e.charCodeAt(n))<128?i[l++]=o:o<2048?(i[l++]=192|o>>6,i[l++]=128|63&o):o<55296||o>=57344?(i[l++]=224|o>>12,i[l++]=128|o>>6&63,i[l++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++n)),i[l++]=240|o>>18,i[l++]=128|o>>12&63,i[l++]=128|o>>6&63,i[l++]=128|63&o);e=i}else{if("object"!==a)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],c=[];for(n=0;n<64;++n){var f=e[n]||0;u[n]=92^f,c[n]=54^f}Sha256.call(this,t,r),this.update(c),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var n,a,o=0,i=e.length,s=this.blocks;o<i;){if(this.hashed&&(this.hashed=!1,s[0]=this.block,s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t)for(a=this.start;o<i&&a<64;++o)s[a>>2]|=e[o]<<SHIFT[3&a++];else for(a=this.start;o<i&&a<64;++o)(n=e.charCodeAt(o))<128?s[a>>2]|=n<<SHIFT[3&a++]:n<2048?(s[a>>2]|=(192|n>>6)<<SHIFT[3&a++],s[a>>2]|=(128|63&n)<<SHIFT[3&a++]):n<55296||n>=57344?(s[a>>2]|=(224|n>>12)<<SHIFT[3&a++],s[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],s[a>>2]|=(128|63&n)<<SHIFT[3&a++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++o)),s[a>>2]|=(240|n>>18)<<SHIFT[3&a++],s[a>>2]|=(128|n>>12&63)<<SHIFT[3&a++],s[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++],s[a>>2]|=(128|63&n)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=s[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,n,a,o,i,s,l,u=this.h0,c=this.h1,f=this.h2,d=this.h3,h=this.h4,_=this.h5,p=this.h6,b=this.h7,g=this.blocks;for(e=16;e<64;++e)t=((a=g[e-15])>>>7|a<<25)^(a>>>18|a<<14)^a>>>3,r=((a=g[e-2])>>>17|a<<15)^(a>>>19|a<<13)^a>>>10,g[e]=g[e-16]+t+g[e-7]+r<<0;for(l=c&f,e=0;e<64;e+=4)this.first?(this.is224?(o=300032,b=(a=g[0]-1413257819)-150054599<<0,d=a+24177077<<0):(o=704751109,b=(a=g[0]-210244248)-1521486534<<0,d=a+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(o=u&c)^u&f^l,b=d+(a=b+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&_^~h&p)+K[e]+g[e])<<0,d=a+(t+n)<<0),t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(i=d&u)^d&c^o,p=f+(a=p+(r=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&h^~b&_)+K[e+1]+g[e+1])<<0,t=((f=a+(t+n)<<0)>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),n=(s=f&d)^f&u^i,_=c+(a=_+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&b^~p&h)+K[e+2]+g[e+2])<<0,t=((c=a+(t+n)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),n=(l=c&f)^c&d^s,h=u+(a=h+(r=(_>>>6|_<<26)^(_>>>11|_<<21)^(_>>>25|_<<7))+(_&p^~_&b)+K[e+3]+g[e+3])<<0,u=a+(t+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+c<<0,this.h2=this.h2+f<<0,this.h3=this.h3+d<<0,this.h4=this.h4+h<<0,this.h5=this.h5+_<<0,this.h6=this.h6+p<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,l=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i];return this.is224||(l+=HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]),l},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4,o=this.h5,i=this.h6,s=this.h7,l=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,a>>24&255,a>>16&255,a>>8&255,255&a,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i];return this.is224||l.push(s>>24&255,s>>16&255,s>>8&255,255&s),l},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define((function(){return exports})))})()})),N={},fn="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;fn&&(mr=br(),vr=mr.parentPort,vr.on("message",(e=>Er({data:e}))),wr=pr(),Object.assign(global,{self:global,require:hr,Module:N,location:{href:__filename},Worker:mr.Worker,importScripts:e=>(0,eval)(wr.readFileSync(e,"utf8")+"//# sourceURL="+e),postMessage:e=>vr.postMessage(e),performance:global.performance||{now:Date.now}}));var mr,vr,wr,gr=!1;function zi(){var e=Array.prototype.slice.call(arguments).join(" ");fn?wr.writeSync(2,e+"\n"):console.error(e)}function ji(){var e=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:e,threadId:N._pthread_self()})}var cn=zi;function yr(e){try{if("load"===e.data.cmd){let r=[];self.onmessage=e=>r.push(e),self.startWorker=e=>{N=e,postMessage({cmd:"loaded"});for(let e of r)yr(e);self.onmessage=yr},N.wasmModule=e.data.wasmModule;for(let t of e.data.handlers)N[t]=(...e)=>{postMessage({cmd:"callHandler",handler:t,args:e})};if(N.wasmMemory=e.data.wasmMemory,N.buffer=N.wasmMemory.buffer,N.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof e.data.urlOrBlob)importScripts(e.data.urlOrBlob);else{var t=URL.createObjectURL(e.data.urlOrBlob);importScripts(t),URL.revokeObjectURL(t)}DuckDB(N)}else if("run"===e.data.cmd){N.__emscripten_thread_init(e.data.pthread_ptr,0,0,1),N.__emscripten_thread_mailbox_await(e.data.pthread_ptr),N.establishStackSpace(),N.PThread.receiveObjectTransfer(e.data),N.PThread.threadInitTLS(),gr||(gr=!0);try{N.invokeEntryPoint(e.data.start_routine,e.data.arg)}catch(e){if("unwind"!=e)throw e}}else"cancel"===e.data.cmd?N._pthread_self()&&N.__emscripten_thread_exit(-1):"setimmediate"===e.data.target||("checkMailbox"===e.data.cmd?gr&&N.checkMailbox():e.data.cmd&&(cn("worker.js received unknown command ".concat(e.data.cmd)),cn(e.data)))}catch(e){throw N.__emscripten_thread_crashed&&N.__emscripten_thread_crashed(),e}}self.alert=ji,N.instantiateWasm=(e,t)=>{var r=N.wasmModule;return N.wasmModule=null,t(new WebAssembly.Instance(r,e))},self.onunhandledrejection=e=>{throw e.reason||e},self.onmessage=yr;var Er=self.onmessage;function _n(){return N}function dn(e){N=e}var Rn=ln(gn()),be=ln(wn()),yn=function(e,t,r){var n;if(null!=(n=null==e?void 0:e.endpoint)&&n.startsWith("http")){let t="".concat(null==e?void 0:e.endpoint),r=t.indexOf("://")+3;return t.substring(r)}return null!=e&&e.endpoint?"".concat(r,".").concat(null==e?void 0:e.endpoint):"".concat(r,".s3.amazonaws.com")};function Ji(e,t,r){var n,a,o,i;let s=En(t),l=s.path;return An(e)&&(l="/".concat(s.bucket).concat(l)),{url:l,query:"",host:yn(e,t,s.bucket),region:null!=(n=null==e?void 0:e.region)?n:"",service:"s3",method:r,accessKeyId:null!=(a=null==e?void 0:e.accessKeyId)?a:"",secretAccessKey:null!=(o=null==e?void 0:e.secretAccessKey)?o:"",sessionToken:null!=(i=null==e?void 0:e.sessionToken)?i:"",dateNow:(new Date).toISOString().replace(/-/g,"").split("T")[0],datetimeNow:(new Date).toISOString().replace(/-/g,"").replace(/:/g,"").split(".")[0]+"Z"}}function Zi(e,t=!1){let r="0123456789ABCDEF",n="";for(let a=0;a<e.length;a++){let o=e[a];o>="A"&&o<="Z"||o>="a"&&o<="z"||o>="0"&&o<="9"||"_"==o||"-"==o||"~"==o||"."==o?n+=o:"/"==o?n+=t?"%2F":o:(n+="%",n+=r[o.charCodeAt(0)>>4],n+=r[15&o.charCodeAt(0)])}return n}function Qi(e,t=null){var r;let n=null!=(r=null==t?void 0:t.contentHash)?r:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",a=new Map;a.set("x-amz-date",e.datetimeNow),a.set("x-amz-content-sha256",n),e.sessionToken&&a.set("x-amz-security-token",e.sessionToken);let o="";null!=t&&t.contentType&&(o+="content-type;"),o+="host;x-amz-content-sha256;x-amz-date",e.sessionToken&&(o+=";x-amz-security-token");let i=e.method+"\n"+Zi(e.url)+"\n"+e.query;null!=t&&t.contentType&&(i+="\ncontent-type:"+(null==t?void 0:t.contentType)),i+="\nhost:"+e.host+"\nx-amz-content-sha256:"+n+"\nx-amz-date:"+e.datetimeNow,e.sessionToken&&e.sessionToken.length>0&&(i+="\nx-amz-security-token:"+e.sessionToken),i+="\n\n"+o+"\n"+n;let s=(0,be.sha256)(i),l="AWS4-HMAC-SHA256\n"+e.datetimeNow+"\n"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request\n"+s,u="AWS4"+e.secretAccessKey,c=be.sha256.hmac.arrayBuffer(u,e.dateNow),f=be.sha256.hmac.arrayBuffer(c,e.region),d=be.sha256.hmac.arrayBuffer(f,e.service),h=be.sha256.hmac.arrayBuffer(d,"aws4_request"),_=be.sha256.hmac(h,l);return a.set("Authorization","AWS4-HMAC-SHA256 Credential="+e.accessKeyId+"/"+e.dateNow+"/"+e.region+"/"+e.service+"/aws4_request, SignedHeaders="+o+", Signature="+_),a}var es=function(e,t,r,n=null,a=null){return Qi(Ji(e,t,r),{contentType:n,contentHash:a?be.sha256.hex(a):null})};function ue(e,t,r,n,a=null,o=null){(null!=t&&t.accessKeyId||null!=t&&t.sessionToken)&&(es(t,r,n,a,o).forEach(((t,r)=>{e.setRequestHeader(r,t)})),a&&e.setRequestHeader("content-type",a))}function En(e){if(0!=e.indexOf("s3://"))throw new Error("URL needs to start with s3://");let t=e.indexOf("/",5);if(-1==t)throw new Error("URL needs to contain a '/' after the host");let r=e.substring(5,t);if(!r)throw new Error("URL needs to contain a bucket name");let n=e.substring(t);if(!n)throw new Error("URL needs to contain key");return{bucket:r,path:n}}function An(e){var t;return!(null==(t=null==e?void 0:e.endpoint)||!t.startsWith("http"))}function le(e,t){let r=En(t);return An(e)?"".concat(null==e?void 0:e.endpoint,"/").concat(r.bucket)+r.path:"https://"+yn(e,t,r.bucket)+r.path}var kn=new TextEncoder,Fn=new TextDecoder("utf-8");function Fr(e,t,r){let n=kn.encode(r),a=e._malloc(n.byteLength),o=e.HEAPU8.subarray(a,a+n.byteLength);o.set(n),e.HEAPF64[0+(t>>3)]=1,e.HEAPF64[1+(t>>3)]=a,e.HEAPF64[2+(t>>3)]=o.byteLength}function kr(e){switch(e){case"UINT8":case"INT8":return 1;case"INT32":case"FLOAT":return 4;case"INT64":case"UINT64":case"DOUBLE":case"VARCHAR":return 8;default:return 0}}function Sr(e,t,r,n){let a=e.HEAPU8.subarray(t,t+n*kr(r));switch(r){case"UINT8":return new Uint8Array(a.buffer,a.byteOffset,n);case"INT8":return new Int8Array(a.buffer,a.byteOffset,n);case"INT32":return new Int32Array(a.buffer,a.byteOffset,n);case"FLOAT":return new Float32Array(a.buffer,a.byteOffset,n);case"DOUBLE":case"VARCHAR":return new Float64Array(a.buffer,a.byteOffset,n);default:return new Array(0)}}function Sn(e,t,r){let n=e.HEAPU8.subarray(t,t+r);return new Uint8Array(n.buffer,n.byteOffset,r)}function Ve(e,t,r){let n=e.HEAPU8.subarray(t,t+8*r);return new Float64Array(n.buffer,n.byteOffset,r)}function Dn(e,t,r,n,a,o,i,s){try{let l=e._udfFunctions.get(n);if(!l)return void Fr(t,r,"Unknown UDF with id: "+n);let u=Fn.decode(t.HEAPU8.subarray(a,a+o)),c=JSON.parse(u),f=Ve(t,i,s/8),d=e=>{var r;let n=null;switch(void 0!==e.validityBuffer&&(n=Sn(t,f[e.validityBuffer],c.rows)),e.physicalType){case"VARCHAR":{if(null===e.dataBuffer||void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for VARCHAR argument");if(null===e.lengthBuffer||void 0===e.lengthBuffer)throw new Error("malformed data view, expected data length buffer for VARCHAR argument");let r=Sr(t,f[e.dataBuffer],e.physicalType,c.rows),a=[],o=Ve(t,f[e.lengthBuffer],c.rows);for(let e=0;e<c.rows;++e){if(null!=n&&!n[e]){a.push(null);continue}let i=t.HEAPU8.subarray(r[e],r[e]+o[e]),s=Fn.decode(i);a.push(s)}return e=>a[e]}case"STRUCT":{let t={},a=[];for(let n=0;n<((null==(r=e.children)?void 0:r.length)||0);++n){let r=e.children[n],o=d(r);a.push((e=>{t[r.name]=o(e)}))}return null!=n?e=>{if(!n[e])return null;for(let t of a)t(e);return t}:e=>{for(let t of a)t(e);return t}}default:{if(void 0===e.dataBuffer)throw new Error("malformed data view, expected data buffer for argument of type: "+e.physicalType);let r=Sr(t,f[e.dataBuffer],e.physicalType,c.rows);return null!=n?e=>n[e]?r[e]:null:e=>r[e]}}},h=[];for(let e=0;e<c.args.length;++e)h.push(d(c.args[e]));let _=c.rows*kr(c.ret.physicalType),p=t._malloc(_),b=Sr(t,p,c.ret.physicalType,c.rows),g=t._malloc(c.rows),m=Sn(t,g,c.rows);if(0==b.length||0==m.length)return void Fr(t,r,"Can't create physical arrays for result");let y=b;"VARCHAR"==c.ret.physicalType&&(y=new Array(c.rows));let w=[];for(let e=0;e<c.args.length;++e)w.push(null);for(let e=0;e<c.rows;++e){for(let t=0;t<c.args.length;++t)w[t]=h[t](e);let t=l.func(...w);y[e]=t,m[e]=null==t?0:1}let v=0;if("VARCHAR"===c.ret.physicalType){let e=new Array(0);v=t._malloc(c.rows*kr("DOUBLE"));let r=Ve(t,v,c.rows),n=0;for(let t=0;t<c.rows;++t){let a=kn.encode(y[t]||"");e.push(a),r[t]=a.length,n+=a.length}let a=t._malloc(n),o=t.HEAPU8.subarray(a,a+n),i=0;for(let t=0;t<c.rows;++t){b[t]=i;let r=e[t];o.subarray(i,i+r.length).set(r),i+=r.length}}let H=24,A=t._malloc(H),E=Ve(t,A,3);E[0]=p,E[1]=g,E[2]=v,t.HEAPF64[0+(r>>3)]=0,t.HEAPF64[1+(r>>3)]=A,t.HEAPF64[2+(r>>3)]=0}catch(e){Fr(t,r,e.toString())}}function ts(){let e=new TextDecoder;return t=>(typeof SharedArrayBuffer<"u"&&t.buffer instanceof SharedArrayBuffer&&(t=new Uint8Array(t)),e.decode(t))}var ns=ts();function ae(e,t){console.error("FAIL WITH: ".concat(t)),e.ccall("duckdb_web_fail_with",null,["string"],[t])}function se(e,t,r){return ns(e.HEAPU8.subarray(t,t+r))}function Dr(e,t,r,n){let a=e.stackSave(),o=e.stackAlloc(24);r.unshift("number"),n.unshift(o),e.ccall(t,null,r,n);let i=e.HEAPF64[0+(o>>3)],s=e.HEAPF64[1+(o>>3)],l=e.HEAPF64[2+(o>>3)];return e.stackRestore(a),[i,s,l]}function Rr(e){e.ccall("duckdb_web_clear_response",null,[],[])}var H={_files:new Map,_fileInfoCache:new Map,_udfFunctions:new Map,_globalFileInfo:null,getFileInfo(e,t){try{let r=H._fileInfoCache.get(t),[n,a,o]=Dr(e,"duckdb_web_fs_get_file_info_by_id",["number","number"],[t,(null==r?void 0:r.cacheEpoch)||0]);if(0!==n)return null;if(0===o)return r;let i=se(e,a,o);Rr(e);let s=JSON.parse(i);if(null==s)return null;let l={...s,blob:null};return H._fileInfoCache.set(t,l),l}catch(e){return console.log(e),null}},getGlobalFileInfo(e){var t;try{let[r,n,a]=Dr(e,"duckdb_web_get_global_file_info",["number"],[(null==(t=H._globalFileInfo)?void 0:t.cacheEpoch)||0]);if(0!==r)return null;if(0===a)return H._globalFileInfo;let o=se(e,n,a);Rr(e);let i=JSON.parse(o);return null==i?null:(H._globalFileInfo={...i,blob:null},H._globalFileInfo)}catch(e){return console.log(e),null}},testPlatformFeature:(e,t)=>1===t?typeof BigInt64Array<"u":(console.warn("test for unknown feature: ".concat(t)),!1),getDefaultDataProtocol:e=>2,openFile:(e,t,r)=>{var n;try{H._fileInfoCache.delete(t);let a=H.getFileInfo(e,t);switch(null==a?void 0:a.dataProtocol){case 4:case 5:{if(1&r&&2&r)throw new Error("Opening file ".concat(a.fileName," failed: cannot open file with both read and write flags set"));if(32&r)throw new Error("Opening file ".concat(a.fileName," failed: appending to HTTP/S3 files is not supported"));if(2&r){let t=new XMLHttpRequest;if(5==a.dataProtocol?(t.open("HEAD",le(a.s3Config,a.dataUrl),!1),ue(t,a.s3Config,a.dataUrl,"HEAD")):t.open("HEAD",a.dataUrl,!1),t.send(null),200!=t.status&&404!=t.status)throw new Error("Opening file ".concat(a.fileName," failed: Unexpected return status from server (").concat(t.status,")"));if(404==t.status&&!(8&r||16&r))throw new Error("Opening file ".concat(a.fileName," failed: Cannot write to non-existent file without FILE_FLAGS_FILE_CREATE or FILE_FLAGS_FILE_CREATE_NEW flag."));let n=e._malloc(1),o=new Uint8Array;e.HEAPU8.set(o,n);let i=e._malloc(16);return e.HEAPF64[0+(i>>3)]=1,e.HEAPF64[1+(i>>3)]=n,i}if(1!=r)throw new Error("Opening file ".concat(a.fileName," failed: unsupported file flags: ").concat(r));let t=null,n=null;try{let r=new XMLHttpRequest;if(5==a.dataProtocol?(r.open("HEAD",le(a.s3Config,a.dataUrl),!1),ue(r,a.s3Config,a.dataUrl,"HEAD")):r.open("HEAD",a.dataUrl,!1),r.setRequestHeader("Range","bytes=0-"),r.send(null),t=r.getResponseHeader("Content-Length"),null!==t&&206==r.status){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=+t,e.HEAPF64[1+(r>>3)]=0,r}}catch(e){n=e,console.warn("HEAD request with range header failed: ".concat(e))}if(a.allowFullHttpReads){if(null!==t&&+t>1){let r=new XMLHttpRequest;5==a.dataProtocol?(r.open("GET",le(a.s3Config,a.dataUrl),!1),ue(r,a.s3Config,a.dataUrl,"GET")):r.open("GET",a.dataUrl,!1),r.responseType="arraybuffer",r.setRequestHeader("Range","bytes=0-0"),r.send(null);let n=r.getResponseHeader("Content-Length");if(206==r.status&&null!==n&&1==+n){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=+t,e.HEAPF64[1+(r>>3)]=0,r}if(200==r.status&&null!==n&&+n==+t){console.warn("fall back to full HTTP read for: ".concat(a.dataUrl));let t=e._malloc(r.response.byteLength),n=new Uint8Array(r.response,0,r.response.byteLength);e.HEAPU8.set(n,t);let o=e._malloc(16);return e.HEAPF64[0+(o>>3)]=r.response.byteLength,e.HEAPF64[1+(o>>3)]=t,o}}console.warn("falling back to full HTTP read for: ".concat(a.dataUrl));let r=new XMLHttpRequest;if(5==a.dataProtocol?(r.open("GET",le(a.s3Config,a.dataUrl),!1),ue(r,a.s3Config,a.dataUrl,"GET")):r.open("GET",a.dataUrl,!1),r.responseType="arraybuffer",r.send(null),200==r.status){let t=e._malloc(r.response.byteLength),n=new Uint8Array(r.response,0,r.response.byteLength);e.HEAPU8.set(n,t);let a=e._malloc(16);return e.HEAPF64[0+(a>>3)]=r.response.byteLength,e.HEAPF64[1+(a>>3)]=t,a}}if(null!=n)throw new Error("Reading file ".concat(a.fileName," failed with error: ").concat(n));return 0}case 2:{let t=null==(n=H._files)?void 0:n.get(a.fileName);if(t){let r=e._malloc(16);return e.HEAPF64[0+(r>>3)]=t.size,e.HEAPF64[1+(r>>3)]=0,r}console.warn("Buffering missing file: ".concat(a.fileName));let r=e._malloc(16),o=e._malloc(1);return e.HEAPF64[0+(r>>3)]=1,e.HEAPF64[1+(r>>3)]=o,r}}}catch(t){console.error(t.toString()),ae(e,t.toString())}return 0},glob:(e,t,r)=>{var n;try{let a=se(e,t,r);if(a.startsWith("http")||a.startsWith("s3://")){let t=new XMLHttpRequest;if(a.startsWith("s3://")){let r=H.getGlobalFileInfo(e);t.open("HEAD",le(null==r?void 0:r.s3Config,a),!1),ue(t,null==r?void 0:r.s3Config,a,"HEAD")}else t.open("HEAD",a,!1);if(t.send(null),200!=t.status&&206!==t.status){if(null==(n=H.getGlobalFileInfo(e))||!n.allowFullHttpReads)return void ae(e,"HEAD request failed: ".concat(a,", with full http reads are disabled"));let t=new XMLHttpRequest;if(a.startsWith("s3://")){let r=H.getGlobalFileInfo(e);t.open("GET",le(null==r?void 0:r.s3Config,a),!1),ue(t,null==r?void 0:r.s3Config,a,"HEAD")}else t.open("GET",a,!1);if(t.setRequestHeader("Range","bytes=0-0"),t.send(null),200!=t.status&&206!==t.status)return void ae(e,"HEAD and GET requests failed: ".concat(a));let r=t.getResponseHeader("Content-Length");r&&+r>1&&console.warn("Range request for ".concat(a," did not return a partial response: ").concat(t.status,' "').concat(t.statusText,'"'))}e.ccall("duckdb_web_fs_glob_add_path",null,["string"],[a])}}catch(t){return console.log(t),ae(e,t.toString()),0}},checkFile:(e,t,r)=>{try{let n=se(e,t,r);if(n.startsWith("http")||n.startsWith("s3://")){let t=new XMLHttpRequest;if(n.startsWith("s3://")){let r=H.getGlobalFileInfo(e);t.open("HEAD",le(null==r?void 0:r.s3Config,n),!1),ue(t,null==r?void 0:r.s3Config,n,"HEAD")}else t.open("HEAD",n,!1);return t.send(null),206==t.status||200==t.status}}catch(e){return console.log(e),!1}return!1},syncFile:(e,t)=>{},closeFile:(e,t)=>{var r;let n=H.getFileInfo(e,t);switch(H._fileInfoCache.delete(t),null==n?void 0:n.dataProtocol){case 0:case 4:case 5:break;case 1:case 2:return;case 3:{let e=null==(r=H._files)?void 0:r.get(n.fileName);if(!e)throw new Error("No OPFS access handle registered with name: ".concat(n.fileName));return e.flush()}}},truncateFile:(e,t,r)=>{var n;let a=H.getFileInfo(e,t);switch(null==a?void 0:a.dataProtocol){case 4:return void ae(e,"Cannot truncate a http file");case 5:return void ae(e,"Cannot truncate an s3 file");case 0:case 1:case 2:return void ae(e,"truncateFile not implemented");case 3:{let e=null==(n=H._files)?void 0:n.get(a.fileName);if(!e)throw new Error("No OPFS access handle registered with name: ".concat(a.fileName));return e.truncate(r)}}return 0},readFile(e,t,r,n,a){var o,i;if(0==n)return 0;try{let s=H.getFileInfo(e,t);switch(null==s?void 0:s.dataProtocol){case 4:case 5:if(!s.dataUrl)throw new Error("Missing data URL for file ".concat(t));try{let t=new XMLHttpRequest;if(5==s.dataProtocol?(t.open("GET",le(null==s?void 0:s.s3Config,s.dataUrl),!1),ue(t,null==s?void 0:s.s3Config,s.dataUrl,"GET")):t.open("GET",s.dataUrl,!1),t.responseType="arraybuffer",t.setRequestHeader("Range","bytes=".concat(a,"-").concat(a+n-1)),t.send(null),206==t.status||200==t.status&&n==t.response.byteLength&&0==a){let a=new Uint8Array(t.response,0,Math.min(t.response.byteLength,n));return e.HEAPU8.set(a,r),a.byteLength}if(200==t.status){console.warn("Range request for ".concat(s.dataUrl," did not return a partial response: ").concat(t.status,' "').concat(t.statusText,'"'));let o=new Uint8Array(t.response,a,Math.min(t.response.byteLength-a,n));return e.HEAPU8.set(o,r),o.byteLength}throw new Error("Range request for ".concat(s.dataUrl," did returned non-success status: ").concat(t.status,' "').concat(t.statusText,'"'))}catch(e){throw console.log(e),new Error("Range request for ".concat(s.dataUrl," failed with error: ").concat(e,'"'))}case 2:{let t=null==(o=H._files)?void 0:o.get(s.fileName);if(!t)throw new Error("No HTML5 file registered with name: ".concat(s.fileName));let i=t.slice(a,a+n),l=new Uint8Array((new FileReaderSync).readAsArrayBuffer(i));return e.HEAPU8.set(l,r),l.byteLength}case 3:{let t=null==(i=H._files)?void 0:i.get(s.fileName);if(!t)throw new Error("No OPFS access handle registered with name: ".concat(s.fileName));let o=e.HEAPU8.subarray(r,r+n);return t.read(o,{at:a})}}return 0}catch(t){return console.log(t),ae(e,t.toString()),0}},writeFile:(e,t,r,n,a)=>{var o;let i=H.getFileInfo(e,t);switch(null==i?void 0:i.dataProtocol){case 4:return ae(e,"Cannot write to HTTP file"),0;case 5:{let t=e.HEAPU8.subarray(r,r+n),a=new XMLHttpRequest;return a.open("PUT",le(null==i?void 0:i.s3Config,i.dataUrl),!1),ue(a,null==i?void 0:i.s3Config,i.dataUrl,"PUT","",t),a.send(t),200!==a.status?(ae(e,"Failed writing file: HTTP "+a.status),0):n}case 2:return ae(e,"cannot write using the html5 file reader api"),0;case 3:{let t=null==(o=H._files)?void 0:o.get(i.fileName);if(!t)throw new Error("No OPFS access handle registered with name: ".concat(i.fileName));let s=e.HEAPU8.subarray(r,r+n);return t.write(s,{at:a})}}return 0},getLastFileModificationTime:(e,t)=>{var r;let n=H.getFileInfo(e,t);switch(null==n?void 0:n.dataProtocol){case 2:if(!(null==(r=H._files)?void 0:r.get(n.fileName)))throw Error("No handle available for file: ".concat(n.fileName));return 0;case 4:case 5:return(new Date).getTime()}return 0},checkDirectory:(e,t,r)=>{let n=se(e,t,r);return console.log("checkDirectory: ".concat(n)),!1},createDirectory:(e,t,r)=>{let n=se(e,t,r);console.log("createDirectory: ".concat(n))},removeDirectory:(e,t,r)=>{let n=se(e,t,r);console.log("removeDirectory: ".concat(n))},listDirectoryEntries:(e,t,r)=>{let n=se(e,t,r);return console.log("listDirectoryEntries: ".concat(n)),!1},moveFile:(e,t,r,n,a)=>{var o,i;let s=se(e,t,r),l=se(e,n,a),u=null==(o=H._files)?void 0:o.get(s);void 0!==u&&(H._files.delete(u),H._files.set(l,u));for(let[e,t]of(null==(i=H._fileInfoCache)?void 0:i.entries())||[])if(t.dataUrl==s){H._fileInfoCache.delete(e);break}return!0},removeFile:(e,t,r)=>{},callScalarUDF:(e,t,r,n,a,o,i)=>{Dn(H,e,t,r,n,a,o,i)}};globalThis.DUCKDB_RUNTIME={};for(let e of Object.getOwnPropertyNames(H))"constructor"!=e&&(globalThis.DUCKDB_RUNTIME[e]=Object.getOwnPropertyDescriptor(H,e).value);globalThis.onmessage=e=>{if("load"===e.data.cmd){let t=_n();t.wasmModule=e.data.wasmModule,t.wasmMemory=e.data.wasmMemory,t.buffer=t.wasmMemory.buffer,t.ENVIRONMENT_IS_PTHREAD=!0,(0,Rn.default)(t).then((function(e){dn(e)}))}else if("registerFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.set(e.data.fileName,e.data.fileHandle);else if("dropFileHandle"===e.data.cmd)globalThis.DUCKDB_RUNTIME._files=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._files.delete(e.data.fileName);else if("registerUDFFunction"===e.data.cmd)globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map,globalThis.DUCKDB_RUNTIME._udfFunctions.set(e.data.udf.name,e.data.udf);else if("dropUDFFunctions"===e.data.cmd){globalThis.DUCKDB_RUNTIME._udfFunctions=globalThis.DUCKDB_RUNTIME._files||new Map;for(let t of globalThis.DUCKDB_RUNTIME._udfFunctions.keys())globalThis.DUCKDB_RUNTIME._udfFunctions.get(t).connection_id==e.data.connectionId&&globalThis.DUCKDB_RUNTIME._udfFunctions.delete(t)}else Er(e)}})();